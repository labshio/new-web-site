<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>shiozaki_lab_projects</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/projects.css">
    <link rel="stylesheet" href="css/footer.css">
</head>
<body>
    <!-- ローディング画面（中央にサイト名を表示） -->
<div id="loading">
  <div class="diagonal-lines">
    <div class="line"></div>
    <div class="line"></div>
    <div class="line"></div>
    <div class="line"></div>
    <div class="line"></div>
    <div class="line"></div>
    <div class="line"></div>
  </div>
  <h1 class="site-name">SHIOZAKI LABORATORY</h1>
</div>

</div>
    <!-- ヘッダーをインクルード -->
    <div id="header-container"></div>
    
    <!-- ページタイトルとソートボタン -->
    <div class="page-title">
        <div class="title-container">
            <h2 class="title-text"># Projects</h2>
            <div class="sort-button" data-sort="desc">↓ New</div>
        </div>
    </div>
    
    <!-- タグフィルター部分 -->
    <div class="tag-filter-section">
        <div class="tag-filters">
            <span class="tag-filter active" data-tag="All"># All</span>
            <span class="tag-filter" data-tag="Design"># Design</span>
            <span class="tag-filter" data-tag="Research"># Research</span>
            <span class="tag-filter" data-tag="Thesis"># Thesis</span>
            <span class="tag-filter" data-tag="Reading"># Reading</span>
            <span class="tag-filter" data-tag="Publication"># Publication</span>
            <span class="tag-filter" data-tag="Event"># Event</span>
        </div>
    </div>
    
    <div class="projects-grid" id="projects-grid">
        <a href="projects/project1.html" class="project-card" data-tags="Design" data-date="20250425">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/project1.jpg" alt="project1" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">project1</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
        
        <a href="projects/project2.html" class="project-card" data-tags="Publication" data-date="20250410">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/project2.jpg" alt="project2" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">project2</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
        
        <a href="projects/project3.html" class="project-card" data-tags="Event" data-date="20250328">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/project3.jpg" alt="project3" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">project3</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
        
        <a href="projects/project4.html" class="project-card" data-tags="Thesis" data-date="20250312">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/project4.jpg" alt="project4" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">project4</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
        
        <a href="projects/project5.html" class="project-card" data-tags="Research" data-date="20250227">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/project5.jpg" alt="project5" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">project5</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
        
        <a href="projects/project6.html" class="project-card" data-tags="Publication" data-date="20250215">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/project6.jpg" alt="project6" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">project6</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
        
        <a href="projects/project7.html" class="project-card" data-tags="Reading" data-date="20250130">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/project7.jpg" alt="project7" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">project7</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
        
        <a href="projects/project8.html" class="project-card" data-tags="Event" data-date="20250115">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/project8.jpg" alt="project8" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">project8</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
        
        <a href="projects/project9.html" class="project-card" data-tags="Thesis" data-date="20241228">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/project9.jpg" alt="project9" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">project9</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
        
        <a href="projects/project10.html" class="project-card" data-tags="Research" data-date="20241212">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/project10.jpg" alt="project10" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">project10</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
    </div>

    <div id="footer-container"></div>

    <script>
        // ヘッダーとフッターを読み込む
        fetch('header.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header-container').innerHTML = data;
            });
        
        fetch('footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-container').innerHTML = data;
            });

        // プロジェクトの日付を自動更新する関数
        function updateProjectDates() {
            const projectCards = document.querySelectorAll('.project-card');
            
            projectCards.forEach(card => {
                const dataDate = card.getAttribute('data-date');
                const projectDateElement = card.querySelector('.project-date');
                
                if (dataDate && projectDateElement) {
                    projectDateElement.textContent = dataDate;
                }
            });
        }

        // プロジェクトを日付順でソート
        function sortProjectsByDate(order = 'desc') {
            const grid = document.getElementById('projects-grid');
            const cards = Array.from(grid.querySelectorAll('.project-card'));
            
            cards.sort((a, b) => {
                const dateA = a.getAttribute('data-date');
                const dateB = b.getAttribute('data-date');
                
                if (order === 'desc') {
                    return dateB.localeCompare(dateA); // 降順（新しい順）
                } else {
                    return dateA.localeCompare(dateB); // 昇順（古い順）
                }
            });
            
            // 並び替えたカードを再配置
            cards.forEach(card => grid.appendChild(card));
        }

        // タグフィルター機能
        function filterProjects(selectedTag) {
            const cards = document.querySelectorAll('.project-card');
            
            cards.forEach(card => {
                const tags = card.getAttribute('data-tags');
                
                if (selectedTag === 'All' || tags.includes(selectedTag)) {
                    card.classList.remove('hidden');
                } else {
                    card.classList.add('hidden');
                }
            });
        }

        // イベントリスナーの設定
        document.addEventListener('DOMContentLoaded', function() {
            // ローディング画面を2秒後にフェードアウト
const loadingScreen = document.getElementById('loading');
setTimeout(() => {
    loadingScreen.classList.add('hidden');
}, 2000);

            // 初期設定
            updateProjectDates();
            sortProjectsByDate('desc'); // デフォルトは新しい順
            
            // タグフィルターのイベント
            const tagFilters = document.querySelectorAll('.tag-filter');
            tagFilters.forEach(filter => {
                filter.addEventListener('click', function() {
                    // アクティブクラスの切り替え
                    tagFilters.forEach(f => f.classList.remove('active'));
                    this.classList.add('active');
                    
                    // フィルタリング実行
                    const selectedTag = this.getAttribute('data-tag');
                    filterProjects(selectedTag);
                });
            });
            
            // ソートボタンのイベント
            const sortButton = document.querySelector('.sort-button');
            sortButton.addEventListener('click', function() {
                const currentSort = this.getAttribute('data-sort');
                
                if (currentSort === 'desc') {
                    // 降順→昇順に変更
                    this.setAttribute('data-sort', 'asc');
                    this.innerHTML = '↑ Old';
                    sortProjectsByDate('asc');
                } else {
                    // 昇順→降順に変更
                    this.setAttribute('data-sort', 'desc');
                    this.innerHTML = '↓ New';
                    sortProjectsByDate('desc');
                }
            });
        });
    </script>
</body>
</html>
