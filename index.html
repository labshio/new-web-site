<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>shiozaki_lab_projects</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/projects.css">
    <link rel="stylesheet" href="css/footer.css">
</head>
<body>
    <!-- ローディング画面（中央にサイト名を表示） -->
<div id="loading">
  <h1 class="site-name">SHIOZAKI LABORATORY</h1>
</div>
    <!-- ヘッダーをインクルード -->
    <div id="header-container"></div>
    
    <!-- ページタイトルとソートボタン -->
    <div class="page-title">
        <div class="title-container">
            <h2 class="title-text"># Projects</h2>
            <div class="sort-button" data-sort="desc">↓ New</div>
        </div>
    </div>
    
    <!-- タグフィルター部分 -->
    <div class="tag-filter-section">
        <div class="tag-filters">
            <span class="tag-filter active" data-tag="All"># All</span>
            <span class="tag-filter" data-tag="Design"># Design</span>
            <span class="tag-filter" data-tag="Research"># Research</span>
            <span class="tag-filter" data-tag="Thesis"># Thesis</span>
            <span class="tag-filter" data-tag="Reading"># Reading</span>
            <span class="tag-filter" data-tag="Publication"># Publication</span>
            <span class="tag-filter" data-tag="Event"># Event</span>
        </div>
    </div>
    
    <div class="projects-grid" id="projects-grid">
        <a href="projects/上池袋の住宅プロジェクト.html" class="project-card" data-tags="Design" data-date="202010">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/上池袋の住宅.webp" alt="上池袋の住宅プロジェクト" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">上池袋の住宅プロジェクト</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
        
        <a href="projects/大塚・三業通りの住宅プロジェクト.html" class="project-card" data-tags="Design" data-date="201703">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/大塚・三業通りの住宅.jpg" alt="大塚・三業通りの住宅プロジェクト" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">大塚・三業通りの住宅プロジェクト</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
        
        <a href="projects/SUPERTIGHTCITY.html" class="project-card" data-tags="Research" data-date="201907">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/SUPERTIGHTCITY_1.png" alt="SUPERTIGHTCITY" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">SUPERTIGHTCITY</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
        
        <a href="projects/空間へ,磯崎新.html" class="project-card" data-tags="Reading" data-date="202503">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/2503_空間へ, 磯崎新.webp" alt="空間へ/磯崎新" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">空間へ/磯崎新</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
        
        <a href="projects/機能から様相へ, 原広司.html" class="project-card" data-tags="Reading" data-date="202406">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/2406_機能から様相へ, 原広司.webp" alt="空間〈機能から様相へ〉/原広司" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">空間〈機能から様相へ〉/原広司</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
        
        <a href="projects/Liminal Space 中間報告会.html" class="project-card" data-tags="Research" data-date="20250110">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/250110_Liminal Space 中間報告会.webp" alt="project6" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">Liminal Space中間報告会</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
        
        <a href="projects/菊名駅前リサーチ.html" class="project-card" data-tags="Research" data-date="202207">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/2207_菊名駅前リサーチ.webp" alt="菊名駅前リサーチ" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">菊名駅前リサーチ</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
        
        <a href="projects/新宿駅地下リサーチ.html" class="project-card" data-tags="Research" data-date="20250115">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/241025_新宿駅地下リサーチ.webp" alt="新宿駅地下リサーチ" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">新宿駅地下リサーチ</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
        
        <a href="projects/project9.html" class="project-card" data-tags="Thesis" data-date="20241228">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/project9.jpg" alt="project9" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">project9</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
        
        <a href="projects/project10.html" class="project-card" data-tags="Research" data-date="20241212">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/project10.jpg" alt="project10" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">project10</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
         
        <a href="projects/都市建築の力.html" class="project-card" data-tags="Research" data-date="202002">
            <div class="fixed-image-square">
                <div class="project-image-container">
                    <img src="img/都市建築の力.jpg" alt="都市建築の力" class="project-image">
                </div>
            </div>
            <div class="fixed-text-square">
                <div class="project-info">
                    <span class="project-title">都市建築の力</span><span class="project-separator"> / </span><span class="project-date"></span>
                </div>
            </div>
            <div class="project-square"></div>
        </a>
    </div>
    </div>

    <div id="footer-container"></div>

    <script>
        // ヘッダーとフッターを読み込む
        fetch('header.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header-container').innerHTML = data;
            });
        
        fetch('footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-container').innerHTML = data;
            });

        // プロジェクトの日付を自動更新する関数
        function updateProjectDates() {
            const projectCards = document.querySelectorAll('.project-card');
            
            projectCards.forEach(card => {
                const dataDate = card.getAttribute('data-date');
                const projectDateElement = card.querySelector('.project-date');
                
                if (dataDate && projectDateElement) {
                    projectDateElement.textContent = dataDate;
                }
            });
        }

        // プロジェクトを日付順でソート
        function sortProjectsByDate(order = 'desc') {
            const grid = document.getElementById('projects-grid');
            const cards = Array.from(grid.querySelectorAll('.project-card'));
            
            cards.sort((a, b) => {
                const dateA = a.getAttribute('data-date');
                const dateB = b.getAttribute('data-date');
                
                if (order === 'desc') {
                    return dateB.localeCompare(dateA); // 降順（新しい順）
                } else {
                    return dateA.localeCompare(dateB); // 昇順（古い順）
                }
            });
            
            // 並び替えたカードを再配置
            cards.forEach(card => grid.appendChild(card));
        }

        // タグフィルター機能
        function filterProjects(selectedTag) {
            const cards = document.querySelectorAll('.project-card');
            
            cards.forEach(card => {
                const tags = card.getAttribute('data-tags');
                
                if (selectedTag === 'All' || tags.includes(selectedTag)) {
                    card.classList.remove('hidden');
                } else {
                    card.classList.add('hidden');
                }
            });
        }

        // イベントリスナーの設定
        document.addEventListener('DOMContentLoaded', function() {
            // ローディング画面を2秒後にフェードアウト
const loadingScreen = document.getElementById('loading');
setTimeout(() => {
    loadingScreen.classList.add('hidden');
}, 2000);

            // 初期設定
            updateProjectDates();
            sortProjectsByDate('desc'); // デフォルトは新しい順
            
            // タグフィルターのイベント
            const tagFilters = document.querySelectorAll('.tag-filter');
            tagFilters.forEach(filter => {
                filter.addEventListener('click', function() {
                    // アクティブクラスの切り替え
                    tagFilters.forEach(f => f.classList.remove('active'));
                    this.classList.add('active');
                    
                    // フィルタリング実行
                    const selectedTag = this.getAttribute('data-tag');
                    filterProjects(selectedTag);
                });
            });
            
            // ソートボタンのイベント
            const sortButton = document.querySelector('.sort-button');
            sortButton.addEventListener('click', function() {
                const currentSort = this.getAttribute('data-sort');
                
                if (currentSort === 'desc') {
                    // 降順→昇順に変更
                    this.setAttribute('data-sort', 'asc');
                    this.innerHTML = '↑ Old';
                    sortProjectsByDate('asc');
                } else {
                    // 昇順→降順に変更
                    this.setAttribute('data-sort', 'desc');
                    this.innerHTML = '↓ New';
                    sortProjectsByDate('desc');
                }
            });
        });
    </script>
</body>
</html>
